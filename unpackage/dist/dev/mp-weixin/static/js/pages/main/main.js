global.webpackJsonp([5],{10:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(39),s=n.n(i),a=n(20),r=!1;var o=function(t){r||n(50)},c=n(2)(s.a,a.a,o,null,null);c.options.__file="G:\\HBuilserXProjects\\UniAppTest\\pages\\main\\main.vue",c.esModule&&Object.keys(c.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] main.vue: functional components are not supported with templates, they should use render functions."),e.default=c.exports},20:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",[t._m(0),t._v(" "),n("page-head",{attrs:{title:t.title,mpcomid:"0"}}),t._v(" "),n("view",{staticClass:"index"},[n("scroll-view",{staticClass:"swiper-tab",attrs:{id:"tab-bar","scroll-x":"","scroll-left":t.scrollLeft}},t._l(t.tabs,function(e,i){return n("block",{key:e.id},[n("view",{class:["swiper-tab-list",t.currentTab==i?"on":""],attrs:{id:e.id,"data-current":i,eventid:"0-"+i},on:{tap:t.swichNav}},[t._v(t._s(e.name))])])})),t._v(" "),n("swiper",{staticClass:"swiper-box",attrs:{current:t.currentTab,duration:"300",eventid:"3"},on:{change:t.bindChange}},t._l(t.newsitems,function(e,i){return n("block",{key:i},[n("swiper-item",{attrs:{mpcomid:"1-"+i}},[n("scroll-view",{staticClass:"index-bd",attrs:{"scroll-y":"",eventid:"2-"+i},on:{scrolltolower:function(e){t.loadMore(i)}}},[n("view",{staticClass:"uni-list"},t._l(e,function(e,s){return n("view",{key:s,staticClass:"uni-list-cell",attrs:{"hover-class":"uni-list-cell-hover",eventid:"1-"+i+"-"+s},on:{click:function(n){t.show(e)}}},[n("view",{staticClass:"uni-media-list"},[n("image",{staticClass:"uni-media-list-logo",attrs:{src:e.img}}),t._v(" "),n("view",{staticClass:"uni-media-list-body"},[n("view",{staticClass:"uni-media-list-text-top"},[t._v(t._s(e.name))]),t._v(" "),n("view",{staticClass:"uni-media-list-text-bottom uni-ellipsis"},[t._v(t._s(e.label))])])])])}))])],1)],1)}))],1)],1)};i._withStripped=!0;var s={render:i,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"status_bar"},[e("view",{staticClass:"top_view"})])}]};e.a=s},29:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(n(1)),s=a(n(10));function a(t){return t&&t.__esModule?t:{default:t}}n(0).default;new i.default(s.default).$mount(),e.default={config:{navigationBarTitleText:"主页"}}},39:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(n(42)),s=a(n(3));function a(t){return t&&t.__esModule?t:{default:t}}function r(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function i(s,a){try{var r=e[s](a),o=r.value}catch(t){return void n(t)}if(!r.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})}}var o=n(0).default;e.default={data:function(){return{title:"标签页",scrollLeft:0,isClickChange:!1,currentTab:0,forcedLogin:!1,hasLogin:!1,tabs:[{name:"关注",id:"guanzhu"},{name:"推荐",id:"tuijian"},{name:"体育",id:"tiyu"},{name:"热点",id:"redian"},{name:"财经",id:"caijing"}],newsitems:[]}},components:{pageHead:s.default},onLoad:function(){var t=this;if(this.newsitems=this.randomfn(),o.getStorage({key:"cc",success:function(e){t.hasLogin=!0},fail:function(){console.log("读取数据失败 找不到 key 对应的数据")}}),!this.hasLogin){var e=this;o.showModal({title:"未登录",content:"您未登录，需要登录后才能继续",showCancel:!e.forcedLogin,success:function(t){t.confirm&&(e.forcedLogin?o.reLaunch({url:"../login/login"}):o.navigateTo({url:"../login/login"}))}})}},onUnload:function(){this.scrollLeft=0,this.isClickChange=!1,this.currentTab=0},methods:{bindChange:function(){var t=r(i.default.mark(function t(e){var n,s,a,r,c,l,u,f,d;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.target.current,!this.isClickChange){t.next=5;break}return this.currentTab=n,this.isClickChange=!1,t.abrupt("return");case 5:return t.next=7,this.getWidth("tab-bar");case 7:s=t.sent,a=s.scrollLeft,r=0,c=0;case 11:if(!(c<n)){t.next=19;break}return t.next=14,this.getWidth(this.tabs[c].id);case 14:l=t.sent,r+=l.width;case 16:c++,t.next=11;break;case 19:return u=o.getSystemInfoSync().windowWidth,t.next=22,this.getWidth(this.tabs[n].id);case 22:f=t.sent,d=f.width,r+d-a>u&&(this.scrollLeft=r+d-u),r<a&&(this.scrollLeft=r),this.isClickChange=!1,this.currentTab=n;case 28:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getWidth:function(t){return new Promise(function(e,n){o.createSelectorQuery().select("#"+t).fields({size:!0,scrollOffset:!0},function(t){e(t)}).exec()})},swichNav:function(){var t=r(i.default.mark(function t(e){var n,s;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.currentTab!==e.target.dataset.current){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.getWidth("tab-bar");case 6:n=t.sent,s=n.scrollLeft,this.scrollLeft=s,this.isClickChange=!0,this.currentTab=e.target.dataset.current;case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),loadMore:function(t){for(var e=this.newsitems[t][this.newsitems[t].length-1].label,n=this.newsitems[t][this.newsitems[t].length-1].name,i=this.newsitems[t][this.newsitems[t].length-1].img,s=1;s<=10;s++)this.newsitems[t].push({name:n,label:n+"第"+(s+parseInt(e.substr(e.indexOf("第")+1,e.indexOf("第")+2)))+"个条目的详细内容!",img:i})},randomfn:function(){for(var t=[],e=0,n=this.tabs.length;e<n;e++){for(var i=[],s=1;s<=20;s++)i.push({name:this.tabs[e].name,label:this.tabs[e].name+"第"+s+"个条目的详细内容!",img:"../../static/imgs/tabbar/tabbar_"+(e+1)+".png"});t.push(i)}return t},show:function(t){o.showToast({icon:"none",title:"当前点击"+t.name+"-"+t.label})}}}},50:function(t,e){}},[29]);
//# sourceMappingURL=../../../../.sourcemap/pages/main/main.js.map